# π­ Unity Animator μ‹¬ν™” μ‹¤μµ β€“ Transition & Trigger μ •λ°€ μ μ–΄

> Unityμ Animator μ‹μ¤ν…μ„ λ”μ± μ •κµν•κ² λ‹¤λ£¨λ” μ‹¬ν™” μ‹¤μµ. μΊλ¦­ν„°μ λ‹¤μ–‘ν• λ™μ‘ μ „μ΄μ™€ μ΅°κ±΄, νΈλ¦¬κ±° μ²λ¦¬ λ°©μ‹μ— λ€ν•΄ λ‹¤λ£Ήλ‹λ‹¤.

---

## 1. π§  ν•™μµ λ©ν‘

- **Transition μ΅°κ±΄ μ •κµν™”** λ° Blend μ„¤μ • ν•™μµ
- Trigger, Bool, Float νλΌλ―Έν„° μ‹¤μ „ ν™μ©
- λ‹¤μ–‘ν• μ• λ‹λ©”μ΄μ… μ „μ΄ μ‹λ‚λ¦¬μ¤ κµ¬ν„ (κ³µκ²©, ν”Όκ²© λ“±)
- μ „μ΄ μ¤‘λ‹¨(Interrupt), Layer Weight, Sub-state Machine λ‹¤λ£¨κΈ°

---

## 2. π›οΈ κ³ κΈ‰ μƒνƒ μ „μ΄ μ΅°κ±΄ κµ¬μ„±

### 2-1. μ΅°κ±΄λ¶€ μ „μ΄ μ‹¬ν™” μμ‹

| μƒνƒ μ „μ΄ | μ΅°κ±΄ |
|-----------|------|
| Idle β†’ Run | `isRunning == true` AND `speed > 0.1` |
| Run β†’ Slide | `Input.Slide == true` |
| Run β†’ Jump | `isJumping` Trigger |
| Jump β†’ Fall | `velocity.y < 0` |
| Fall β†’ Land | `isGrounded == true` |

```csharp
animator.SetFloat("speed", Mathf.Abs(rb.velocity.x));
animator.SetBool("isGrounded", isGrounded);
```

---

## 3. π― νΈλ¦¬κ±°/λ¶λ¦°/ν”λ΅νΈ νλΌλ―Έν„° λΉ„κµ

| νλΌλ―Έν„° | μ‚¬μ© μμ‹ | μ„¤λ… |
|----------|-----------|------|
| Trigger | `isAttacking` | μκ°„ μ΄λ²¤νΈ μ²λ¦¬ (λ²„νΌ ν΄λ¦­ λ“±) |
| Bool    | `isRunning` | μƒνƒ μ μ§€/ν•΄μ  |
| Float   | `speed`, `verticalVelocity` | Blend Tree μ΅°ν•©μ© λλ” μμΉ μ΅°κ±΄ μ²λ¦¬ |

> `Trigger`λ” μλ™μΌλ΅ falseλ΅ μ΄κΈ°ν™”λ¨. μ—°μ† λ°λ™μ—λ” `ResetTrigger()` κ³ λ ¤.

---

## 4. π§ μ‹¤μµ λ―Έμ…: λ‹¤μ¤‘ μ• λ‹λ©”μ΄μ… μ²λ¦¬

- [ ] μΊλ¦­ν„° μ΄λ™ μ• λ‹λ©”μ΄μ… β†’ `speed` κΈ°λ° Blend μ²λ¦¬
- [ ] κ³µκ²©(Attack) μ…λ ¥ μ‹ `Trigger`λ΅ μ „μ΄
- [ ] μ ν”„ ν›„ μ°©μ§€ μ‹, μ „μ΄ λ€κΈ° μ—†μ΄ μ¦‰μ‹ Idle λ³µκ·€
- [ ] λ‚™ν• λ„μ¤‘ νΉμ • μ†λ„ μ΄ν•μΌ λ• Fall μ• λ‹λ©”μ΄μ… μ „ν™
- [ ] ν”Όκ²© μ• λ‹λ©”μ΄μ… μ¤‘ λ‹¤λ¥Έ μ• λ‹λ©”μ΄μ…μΌλ΅ μ „μ΄λμ§€ μ•λ„λ΅ μ„¤μ •

---

## 5. π― μ „μ΄ μ¤‘λ‹¨(Interrupt) λ° μ „μ΄ μ°μ„ μμ„

- **Transition Interrupt Source** μ„¤μ •: None / Current State / Next State λ“±
- **Exit Time**: ν΄λ¦½ μ¬μƒ μ™„λ£ ν›„ μ „μ΄ν• μ§€ μ—¬λ¶€
- **Has Exit Time** λΉ„ν™μ„±ν™” μ‹ μ¦‰μ‹ μ „μ΄ κ°€λ¥

### μμ‹: ν”Όκ²© μ¤‘μ—λ” μ ν”„ κΈμ§€

```csharp
if (!animator.GetCurrentAnimatorStateInfo(0).IsName("Hit")) {
    animator.SetTrigger("isJumping");
}
```

---

## 6. π® Blend Tree κµ¬μ΅°

- μ΄λ™ μ• λ‹λ©”μ΄μ…μ„ μ†λ„ κ°’μ— λ”°λΌ λ¶€λ“λ½κ² μ „ν™
- μ: Idle β†” Walk β†” Run (Float νλΌλ―Έν„° `speed`λ΅ μ μ–΄)

---

## 7. π§  μ •λ¦¬

| κ°λ… | μ„¤λ… |
|------|------|
| Trigger | μΌνμ„± λ™μ‘μ— μ ν•© |
| Bool    | μƒνƒ μ μ§€μ© |
| Float   | Blend Treeλ‚ μ„Έλ°€ν• μ „μ΄ μ΅°κ±΄μ— μ‚¬μ© |
| Interrupt | νΉμ • μƒνƒμ—μ„ μ „μ΄ μ°¨λ‹¨ μ„¤μ • |
| Blend Tree | μ†λ„/λ°©ν–¥μ— λ”°λΌ μμ—°μ¤λ½κ² μƒνƒ μ „μ΄ κ°€λ¥ |

---

## π”— μ°Έκ³  λ§ν¬

- [μ λ‹ν‹° κ³µμ‹ λ©”λ‰΄ Blend Tree](https://docs.unity3d.com/Manual/class-BlendTree.html)
