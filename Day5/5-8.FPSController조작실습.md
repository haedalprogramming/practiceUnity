# ğŸ® FPSController ì¡°ì‘ ì‹¤ìŠµ

## ğŸ§  ì‹¤ìŠµ ëª©í‘œ

- Unityì—ì„œ 1ì¸ì¹­ ì‹œì (FPS) ê²Œì„ í”Œë ˆì´ì–´ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ êµ¬ì„±í•œë‹¤.
- ë§ˆìš°ìŠ¤ë¥¼ ì´ìš©í•œ ì‹œì  íšŒì „ê³¼ í‚¤ë³´ë“œ ì´ë™ì„ êµ¬í˜„í•œë‹¤.
- Unityì˜ Character Controllerë¥¼ í™œìš©í•´ ë¶€ë“œëŸ¬ìš´ 1ì¸ì¹­ ì´ë™ì„ ì²´í—˜í•œë‹¤.

---

## 1. í”„ë¡œì íŠ¸ ì¤€ë¹„

- ê¸°ì¡´ `3D Playground` í”„ë¡œì íŠ¸ ì‚¬ìš©
- `Main Camera`ëŠ” ë¹„í™œì„±í™”í•˜ê±°ë‚˜ ì‚­ì œ

---

## 2. ì˜¤ë¸Œì íŠ¸ êµ¬ì„±

### Player ì˜¤ë¸Œì íŠ¸ ìƒì„±
- Empty GameObject â†’ ì´ë¦„: `FPSPlayer`
- í•˜ìœ„ì— **Capsule** ì¶”ê°€ (ì´ë™ ìºë¦­í„°ìš©)
- **Camera** ì¶”ê°€ (Capsuleì˜ ë¨¸ë¦¬ ìœ„ì¹˜)

êµ¬ì„± êµ¬ì¡°:
```
FPSPlayer
 â”œâ”€â”€ Capsule
 â””â”€â”€ Main Camera (ëˆˆ ìœ„ì¹˜, ë†’ì´ ì¡°ì ˆ)
```

---

## 3. Character Controller ì¶”ê°€

- `FPSPlayer`ì— **Character Controller** ì»´í¬ë„ŒíŠ¸ ì¶”ê°€
    - **Character Controller**ë€?: rigidbody ì—†ì´ ìºë¦­í„°ë¥¼ ì›€ì§ì´ê²Œ í•˜ëŠ” ì»´í¬ë„ŒíŠ¸. ë‚´ì¼ ìì„¸íˆ ë°°ì›€.
- Centerì™€ Height ì¡°ì •: ìº¡ìŠê³¼ ì¼ì¹˜ì‹œí‚¤ê¸°

---

## 4. C# ìŠ¤í¬ë¦½íŠ¸: `FPSController.cs`

```csharp
using UnityEngine;

public class FPSController : MonoBehaviour
{
    public float moveSpeed = 5f;
    public float mouseSensitivity = 2f;
    public Transform cameraTransform;

    float verticalRotation = 0f;
    CharacterController controller;

    void Start()
    {
        controller = GetComponent<CharacterController>();
        Cursor.lockState = CursorLockMode.Locked;
    }

    void Update()
    {
        // ë§ˆìš°ìŠ¤ íšŒì „: 5-1ì—ì„œ íšŒì „ì— ëŒ€í•´ ë°°ìš´ ê±¸ ë– ì˜¬ë ¤ ë³´ì„¸ìš”.
        // Input.GetAxis("Mouse X/Y"): í˜„ì¬ ë§ˆìš°ìŠ¤ ìœ„ì¹˜ì—ì„œ x/yë°©í–¥ìœ¼ë¡œ ì–¼ë§ˆë‚˜ ì›€ì§ì˜€ëƒ
        // Mouse X: ì™¼ìª½ì´ -, ì˜¤ë¥¸ìª½ì´ +
        // Mouse Y: ì•„ë˜ìª½ì´ -, ìœ„ìª½ì´ +
        float mouseX = Input.GetAxis("Mouse X") * mouseSensitivity;
        float mouseY = Input.GetAxis("Mouse Y") * mouseSensitivity;
        transform.Rotate(??, ??, ??); // ë§ˆìš°ìŠ¤ ì¢Œìš° ì´ë™

        // ë‘˜ ì¤‘ ë­ê°€ ë§ì„ê¹Œìš”? verticalRotation -= mouseY; or verticalRotation += mouseY;
        verticalRotation = Mathf.Clamp(verticalRotation, -90f, 90f);
        cameraTransform.localRotation = Quaternion.Euler(??, ??, ??); // ë§ˆìš°ìŠ¤ ìƒí•˜ ì´ë™

        // í‚¤ë³´ë“œ ì´ë™: 5-6-2ì—ì„œ ë°°ìš´ ë²¡í„° ì—°ì‚°ì„ ë– ì˜¬ë ¤ ë³´ì„¸ìš”.
        float h = Input.GetAxis("Horizontal"); // AD. -1 ~ 1. x ë°©í–¥ ì›€ì§ì„
        float v = Input.GetAxis("Vertical"); // WS. -1 ~ 1. z ë°©í–¥

        // íŒíŠ¸: transform.right=(1,0,0), transform.forward=(0,0,1)
        Vector3 move = ??; // x, z ë°©í–¥ ì›€ì§ì„
        controller.Move(move * moveSpeed * Time.deltaTime);
    }
}
```

<details>
<summary>
ë‹µ í™•ì¸
</summary>

```csharp
using UnityEngine;

public class FPSController : MonoBehaviour
{
    public float moveSpeed = 5f;
    public float mouseSensitivity = 2f;
    public Transform cameraTransform;

    float verticalRotation = 0f;
    CharacterController controller;

    void Start()
    {
        controller = GetComponent<CharacterController>();
        Cursor.lockState = CursorLockMode.Locked;
    }

    void Update()
    {
        // ë§ˆìš°ìŠ¤ íšŒì „
        float mouseX = Input.GetAxis("Mouse X") * mouseSensitivity;
        float mouseY = Input.GetAxis("Mouse Y") * mouseSensitivity;
        transform.Rotate(0, mouseX, 0);

        verticalRotation -= mouseY;
        verticalRotation = Mathf.Clamp(verticalRotation, -90f, 90f);
        cameraTransform.localRotation = Quaternion.Euler(verticalRotation, 0, 0);

        // í‚¤ë³´ë“œ ì´ë™
        float h = Input.GetAxis("Horizontal"); // x, z ë°©í–¥ ì›€ì§ì„
        float v = Input.GetAxis("Vertical"); // WS. -1 ~ 1. z ë°©í–¥
        Vector3 move = transform.right * h + transform.forward * v; // x, z ë°©í–¥ ì›€ì§ì„
        controller.Move(move * moveSpeed * Time.deltaTime);
    }
}
```

</details>

> â˜‘ï¸ `cameraTransform`ì— Main Camera ì—°ê²°

---

## 5. ì¡°ì‘ í…ŒìŠ¤íŠ¸

- **WASD**: ì•ë’¤ì¢Œìš° ì´ë™
- **ë§ˆìš°ìŠ¤ ì´ë™**: ì‹œì  íšŒì „
- **ESC**: ì»¤ì„œ ì ê¸ˆ í•´ì œ (ì—ë””í„°ì—ì„œ ìˆ˜ë™ í•´ì œ í•„ìš”)

---

## âœ… ì ê²€ í•­ëª©

- [ ] FPSPlayerì— Character Controllerê°€ ì •ìƒ ì‘ë™í•˜ëŠ”ê°€?
- [ ] ì‹œì  íšŒì „ì´ ìì—°ìŠ¤ëŸ½ê³  ë©€ë¯¸ê°€ ì—†ëŠ”ê°€?
- [ ] ì§€í˜•ê³¼ ì¶©ëŒ ë°˜ì‘ì´ ìì—°ìŠ¤ëŸ¬ìš´ê°€?

---

## âœ… ì œì¶œ í•­ëª©

- 3D í”Œë ˆì´ê·¸ë¼ìš´ë“œ ìœ ë‹ˆí‹° í™”ë©´(ì”¬ë·°+ê²Œì„ë·°+pbr material í•˜ë‚˜ ì¸ìŠ¤í™í„°) ìŠ¤í¬ë¦°ìƒ· 1ì¥ë§Œ
- velog ê¸€ ë§í¬ í•˜ë‚˜

## ğŸ’¡ íŒ

- ì§€í˜• ìœ„ì—ì„œ ì‹œì‘í•˜ì§€ ì•Šìœ¼ë©´ ë‚™í•˜í•  ìˆ˜ ìˆìŒ â†’ Plane ì¤€ë¹„
- RigidbodyëŠ” ë¹„í™œì„±í™” (CharacterControllerëŠ” ì¤‘ë³µ ì¶©ëŒ ê´€ë¦¬ ì£¼ì˜)

## ğŸ’¡ ë””ë²„ê¹… íŒ

- ì¸ìŠ¤í™í„° Debug ë·°
- vscode ë””ë²„ê·¸ ëª¨ë“œ

---


